webpackJsonp([1,4],{0:function(t,e,a){t.exports=a("x35b")},"5xMp":function(t,e){t.exports="<app-brainstorming-map></app-brainstorming-map>\n"},Etr1:function(t,e,a){"use strict";var r=a("3j3K");a.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,a,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n<3?i(s):n>3?i(e,a,s):i(e,a))||s);return n>3&&s&&Object.defineProperty(e,a,s),s},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t}();s=i([a.i(r.c)(),n("design:paramtypes",[])],s)},IIqm:function(t,e,a){"use strict";var r=a("vwbq"),i=a("ePMx"),n=a("Jqku"),s=a("u9u7");a.d(e,"a",function(){return o});var o=function(){function t(){this.originalId=0,this.soundId=0}return t.prototype.rerender=function(){this.render(),this.update([0,0])},t.prototype.render=function(){var t=this;this.setData=r.a().size([360,120]).separation(function(t,e){return(t.parent==e.parent?1:2)/t.depth}),this.hierarchyData=r.b(this.originalData),this.hierarchyData.descendants().forEach(function(t,e){t.data.closed="true"==t.data.closed}),this.gMind=this.canvas.select(".gmind"),this.gMind.empty()&&(this.gMind=this.canvas.append("g").attr("class","gmind")),this.scrubber=this.gMind.select(".glink"),this.scrubber.empty()&&(this.scrubber=this.gMind.append("g").attr("class","glink")),this.gNodeItems=this.gMind.select(".gnode"),this.gNodeItems.empty()&&(this.gNodeItems=this.gMind.append("g").attr("class","gnode"));var e=r.c().scaleExtent([this.params.minScale,this.params.maxScale]).on("zoom",function(e){var a="scale("+r.d.transform.k+")",i="translate("+r.d.transform.x+","+r.d.transform.y+")";t.gMind.attr("transform",i+a)});setTimeout(function(){t.helper.autoScale(t.canvas,e)},10),this.canvas.call(e)},t.prototype.draw=function(t,e){var a=(t-90)/180*Math.PI;return[e*Math.cos(a),e*Math.sin(a)]},t.prototype.update=function(t){function e(t){r.e(this).raise().classed("active",!0)}function a(t){var e=r.e(this).select(".shape").attr("class").split(" ")[1].split("-")[1];this.eventObservable&&this.eventObservable.next(e);var a=r.e(this).select(".shape"),i=parseFloat(a.attr("cR")),n=p.helper.getNewRadius(i+r.d.dx,i);r.d.subject.data.radius=n;var s=r.e(this.parentElement.parentElement).select("foreignObject").select("body"),o=parseFloat(s.attr("fs")),c=o*n/i;s.attr("fs",c).style("font",c+"px 'Tahoma'");var l;switch(e){case"rect":a.attr("width",2*n).attr("height",2*n).attr("transform","translate("+-n+","+-n+")");break;case"circle":a.attr("r",function(t){return n});break;case"hexagon":l=p.shapesHelper.getData(6,n,0),a.attr("d",p.shapesHelper.lineFn()(l));break;case"triangle":l=p.shapesHelper.getData(3,1.3*n,30),a.attr("d",p.shapesHelper.lineFn()(l));break;case"star":l=p.shapesHelper.getData(12,n,30),a.attr("d",p.shapesHelper.lineFn()(l));break;case"pentagon":l=p.shapesHelper.getData(5,1.1*n,45),a.attr("d",p.shapesHelper.lineFn()(l))}a.attr("cR",n),r.e(this).select(".drag-helper").attr("transform","translate("+n+","+n+")")}function i(t){r.e(this).classed("active",!1)}var n=this;this.setData(this.hierarchyData),this.descendants=this.hierarchyData.descendants(),this.links=this.hierarchyData.links(),this.descendants.forEach(function(t,e){t.y=120*t.depth,t.pos=n.draw(t.x,t.y),t.id||(t.id=n.originalId,n.originalId++)}),this.links.forEach(function(t,e){t.id||(t.id=n.soundId,n.soundId++)});var s=this.gNodeItems.selectAll(".node").data(this.descendants,function(t){return t.id}),o=s.enter(),c=s.exit(),p=this,l=o.append("g").attr("class","node").attr("transform",function(e){return"translate("+t[0]+","+t[1]+")"}).on("mousedown",function(t){if(!r.d.defaultPrevented){t.chosen=void 0===t.chosen||t.chosen;var e=t.chosen?"blue":"",a=t.chosen?4:0,i=t.chosen?1:0;p.chosenNode=t.chosen?t:null,l.select(".shape").style("stroke","").style("stroke-width",0),l.select(".drag-helper").style("opacity",0),r.e(this).select(".shape").style("stroke",e).style("stroke-width",a),r.e(this).select(".drag-helper").style("opacity",i)}}).on("mouseover",function(t){r.e(this).style("cursor","pointer").select("text").style("fill-opacity",1)}).on("mouseout",function(t){r.e(this).select("text").transition().duration(p.params.animationDuration)}),h=l.append("g").attr("class","shape-wrapper").append("g"),d=this.helper.getTextScaleFn();h.each(function(t,e){var a=t.data.radius?t.data.radius:d(t.data.name.length),i=r.e(this);switch(t.depth){case 0:p.shapesHelper.setRect(i,a);break;case 1:p.shapesHelper.setCircle(i,a);break;case 2:p.shapesHelper.setHexagon(i,a);break;case 3:p.shapesHelper.setTriangle(i,a);break;case 4:p.shapesHelper.setStar(i,a);break;case 5:p.shapesHelper.setPentagon(i,a)}p.shapesHelper.setDragHelper(i,t,a)}),l.append("foreignObject").attr("width",2*p.params.circleRadius).attr("height",2*p.params.circleRadius).attr("transform",function(t){return"translate("+-p.params.circleRadius+","+-p.params.circleRadius+")"}).append("xhtml:body").html(function(t){return t.data.name}).attr("fs",p.params.fontSize).style("font",p.params.fontSize+"px 'Tahoma'").style("color","white").style("height","80%").style("margin","0").style("padding","10%").style("display","flex").style("justify-content","center").style("align-items","center").style("text-align","center");var u=(l.merge(s).transition().duration(p.params.animationDuration).attr("transform",function(t){return"translate("+t.pos[0]*p.params.positionMultiplier+","+t.pos[1]*p.params.positionMultiplier+")"}),c.transition().duration(p.params.closeAnimationDuration).attr("transform",function(e){return"translate("+t[0]+","+t[1]+")"}).remove(),this.scrubber.selectAll(".link").data(this.links,function(t){return t.target.id})),f=u.enter(),m=u.exit();f.append("path").attr("class","link").attr("fill","none").attr("stroke","rgba(20,20,20,0.2)").attr("stroke-width",20).attr("opacity",0).attr("d",function(e){var a={x:t[0]*p.params.positionMultiplier,y:t[1]*p.params.positionMultiplier};return p.helper.link({source:a,target:a})}).merge(u).transition().duration(p.params.animationDuration).attr("opacity",1).attr("d",function(t){var e={x:t.source.pos[0]*p.params.positionMultiplier,y:t.source.pos[1]*p.params.positionMultiplier},a={x:t.target.pos[0]*p.params.positionMultiplier,y:t.target.pos[1]*p.params.positionMultiplier};return"M"+e.x+","+e.y+"L"+a.x+","+a.y}),m.transition().duration(p.params.closeAnimationDuration).attr("opacity",0).attr("d",function(e){var a={x:t[0],y:t[1]},r={x:t[0],y:t[1]};return"M"+a.x+","+a.y+"L"+r.x+","+r.y}).remove(),this.descendants.forEach(function(t){t.prevPos=[t.pos[0],t.pos[1]]});var g=r.f().on("start",e).on("drag",a).on("end",i);h.call(g)},t.prototype.setEventObservable=function(t){this.eventObservable=t},t.prototype.init=function(t,e,a,o,c){void 0===c&&(c={}),this.canvas=r.e("#"+t).append("svg").attr("width",e).attr("height",a),this.canvasWidth=e,this.canvasHeight=a,this.originalData=o,this.params=new i.a(c),this.helper=new n.a(this,this.params),this.shapesHelper=new s.a(this,this.params),this.rerender()},t.prototype.addNode=function(t){var e=0,a=100,r={name:t,radius:0,children:[],closed:!1,node_id:Math.floor(Math.random()*(a-e))+a};if(this.chosenNode.depth>this.params.maxDepth-1)return void alert(this.params.maxDepth+" depth is maximum");var i=this.chosenNode.data.node_id,n=this.helper.getParent(i,this.originalData);if(!n)throw new Error("Didn't find parent with id - "+i+"; in array - "+self);if(n.children){if(!(n.children.length<this.params.maxBranches))return void alert(this.params.maxBranches+" branches is maximum");n.children.push(r)}else n.children=[r];this.rerender()},t}()},Iksp:function(t,e,a){"use strict";var r=a("Qbdm"),i=a("3j3K"),n=a("NVOs"),s=a("Fzro"),o=a("YWx4"),c=a("Zu26");a.d(e,"a",function(){return l});var p=this&&this.__decorate||function(t,e,a,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n<3?i(s):n>3?i(e,a,s):i(e,a))||s);return n>3&&s&&Object.defineProperty(e,a,s),s},l=function(){function t(){}return t}();l=p([a.i(i.b)({declarations:[o.a,c.a],imports:[r.a,n.a,s.a],providers:[],bootstrap:[o.a]})],l)},Jqku:function(t,e,a){"use strict";var r=a("vwbq");a.d(e,"a",function(){return i});var i=function(){function t(t,e){this.map=t,this.params=e}return t.prototype.getParent=function(t,e){return e.node_id===t?e:this.findInChildren(e.children,t)},t.prototype.link=function(t){return"M"+t.source.x+","+t.source.y+"C"+(t.source.x+t.target.x)/2+","+t.source.y+" "+(t.source.x+t.target.x)/2+","+t.target.y+" "+t.target.x+","+t.target.y},t.prototype.getNewRadius=function(t,e){var a=t>this.params.maxRadius?"triangle"===e?this.params.maxRadius*this.params.triangleMultiplier:this.params.maxRadius:t;return a=a<this.params.minRadius?this.params.minRadius:a},t.prototype.autoScale=function(t,e){var a=t.select(".gmind").node().getBBox(),i=a.height,n=a.width,s=.9,o=Math.min(this.map.canvasWidth/n,this.map.canvasHeight/i)*s,c=Math.abs(a.x)*o+this.map.canvasWidth/2-a.width*o/2,p=Math.abs(a.y)*o+this.map.canvasHeight/2-a.height*o/2,l=r.h.translate(c,p).scale(o);t.call(e.transform,l)},t.prototype.getTextScaleFn=function(){return r.i().domain([0,this.params.maxCharacters]).range([this.params.minRadius,this.params.maxRadius])},t.prototype.findInChildren=function(t,e){var a=this,r=null;return Array.isArray(t)&&(t.some(function(t){return t.node_id===e&&(r=t),!!r}),r||t.some(function(t){var i=a.findInChildren(t.children,e);return!!i&&(r=i,!0)})),r},t}()},MOVZ:function(t,e){function a(t){throw new Error("Cannot find module '"+t+"'.")}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="MOVZ"},YWx4:function(t,e,a){"use strict";var r=a("3j3K");a.d(e,"a",function(){return n});var i=this&&this.__decorate||function(t,e,a,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n<3?i(s):n>3?i(e,a,s):i(e,a))||s);return n>3&&s&&Object.defineProperty(e,a,s),s},n=function(){function t(){this.title="app works!"}return t}();n=i([a.i(r._6)({selector:"app-root",template:a("5xMp"),styles:[a("okgc")]})],n)},Zu26:function(t,e,a){"use strict";var r=a("3j3K"),i=a("Etr1"),n=a("IIqm"),s=a("EEr4");a.n(s);a.d(e,"a",function(){return p});var o=this&&this.__decorate||function(t,e,a,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n<3?i(s):n>3?i(e,a,s):i(e,a))||s);return n>3&&s&&Object.defineProperty(e,a,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){this.mapId="brainstorming-map-id",this.invokeEvent=new s.Subject}return t.prototype.ngOnInit=function(){this.invokeEvent.subscribe(function(t){t})},t.prototype.ngAfterViewInit=function(){var t={name:"Topic text",radius:0,children:[{name:"Related node 1",radius:0,children:[],node_id:2,closed:!1},{name:"Related node 2",radius:0,children:[],node_id:3,closed:!1}],node_id:1,closed:!1};this.map=new n.a,this.map.setEventObservable(this.invokeEvent),this.map.init(this.mapId,400,400,t)},t.prototype.addNode=function(){this.map.addNode(this.keyword),this.keyword=""},t}();o([a.i(r._5)("brainstormingMap"),c("design:type","function"==typeof(l=void 0!==r.M&&r.M)&&l||Object)],p.prototype,"elem",void 0),p=o([a.i(r._6)({selector:"app-brainstorming-map",template:a("hfb3"),styles:[a("zwpc")],providers:[i.a]}),c("design:paramtypes",["function"==typeof(h=void 0!==i.a&&i.a)&&h||Object])],p);var l,h},ePMx:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var r=function(){function t(t){void 0===t&&(t={}),this.animationDuration=0,this.closeAnimationDuration=0,this.circleRadius=60,this.maxRadiusMultiplier=2.3,this.minRadiusMultiplier=1,this.triangleMultiplier=1.3,this.dragCircle=6,this.dragBorder=3,this.maxCharacters=85,this.positionMultiplier=2.5,this.fontSize=16,this.maxFontSizeMultiplier=1,this.minFontSizeMultiplier=1/2.3,this.maxBranches=5,this.maxDepth=5,this.maxScale=1.7,this.minScale=.2,Object.assign(this,t)}return Object.defineProperty(t.prototype,"maxFontSize",{get:function(){return this.fontSize*this.maxFontSizeMultiplier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFontSize",{get:function(){return this.fontSize*this.minFontSizeMultiplier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxRadius",{get:function(){return this.circleRadius*this.maxRadiusMultiplier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minRadius",{get:function(){return this.circleRadius*this.minRadiusMultiplier},enumerable:!0,configurable:!0}),t}()},hfb3:function(t,e){t.exports='<div class="brainstorming-map" #brainstormingMap>\n  <ul>\n    <li>1. chose node (click on it)</li>\n    <li>2. write something in input field</li>\n    <li>3. click "Add node"</li>\n    <li>* for increasing: choose shape and drag small circle near it</li>\n  </ul>\n  <input type="text" id="node-name" [(ngModel)]="keyword"/>\n  <button type="button" (click)="addNode()" >Add node</button>\n  <br />\n  <div [id]="mapId"></div>\n</div>\n\n'},kZql:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var r={production:!0}},okgc:function(t,e,a){e=t.exports=a("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},u9u7:function(t,e,a){"use strict";var r=a("vwbq");a.d(e,"a",function(){return i});var i=function(){function t(t,e){this.map=t,this.params=e,this.colors=["#631A8F","#FF5A00","#33B8F1","#FC637F","#25911A","#1A8B8F"]}return t.prototype.setRect=function(t,e){t.append("rect").attr("class","shape shape-rect").attr("cR",e).attr("width",2*e).attr("height",2*e).style("fill",this.colors[0]).attr("transform","translate("+-e+","+-e+")")},t.prototype.setCircle=function(t,e){t.append("circle").attr("class","shape shape-circle").attr("cR",e).attr("r",e).style("fill",this.colors[1])},t.prototype.setHexagon=function(t,e){var a=this.getData(6,e,0);t.append("path").attr("class","shape shape-hexagon").attr("d",this.lineFn()(a)).attr("cR",e).attr("fill",this.colors[2]).attr("transform","translate(0,0)")},t.prototype.setTriangle=function(t,e){var a=this.getData(3,1.3*e,30);t.append("path").attr("class","shape shape-triangle").attr("cR",e).attr("d",this.lineFn()(a)).attr("fill",this.colors[3]).attr("transform","translate(0,10)")},t.prototype.setStar=function(t,e){var a=this.getData(12,e,30);t.append("path").attr("class","shape shape-star").attr("d",this.lineFn()(a)).attr("cR",1.3*e).attr("fill",this.colors[4]).attr("transform","translate(0,0)")},t.prototype.setPentagon=function(t,e){var a=this.getData(5,1.1*e,45);t.append("path").attr("class","shape shape-pentagon").attr("d",this.lineFn()(a)).attr("cR",1.3*e).attr("fill",this.colors[5]).attr("transform","translate(0,0)")},t.prototype.setDragHelper=function(t,e,a){var r=a,i=3!==e.depth?a:.8*a;t.append("circle").attr("class","drag-helper").attr("r",this.params.dragCircle).style("fill","#FFFFFF").attr("transform","translate("+r+","+i+")").style("stroke","#000000").style("stroke-width",this.params.dragBorder).style("opacity","0")},t.prototype.getData=function(t,e,a){for(var r=[],i=0;i<t;i++)r.push(this.getCoords(t,e,i,a));return r.push(this.getCoords(t,e,0,a)),r},t.prototype.lineFn=function(){return r.g().x(function(t){return 1*t.x}).y(function(t){return 1*t.y})},t.prototype.getCoords=function(t,e,a,r){void 0===r&&(r=0);var i=360/t,n=12===t&&a%2?e/1.45:e;return{x:Math.floor(n*Math.cos(r*Math.PI/180+i*a*Math.PI/180)),y:Math.floor(n*Math.sin(r*Math.PI/180+i*a*Math.PI/180))}},t}()},x35b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("3j3K"),i=a("O61y"),n=a("Iksp");a("kZql").a.production&&a.i(r.a)(),a.i(i.a)().bootstrapModule(n.a)},zwpc:function(t,e,a){e=t.exports=a("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()}},[0]);